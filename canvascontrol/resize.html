<!DOCTYPE html>
<!--
    A demo of setting up a resize handler to resize a canvas.
-->
<html>
<head>
    <meta charset='utf-8' />
    <title>Resize demo</title>
    <style>
    html, body {
        height: 100%; width: 100%;
        margin: 0px;
        border: 0;
        overflow: hidden;  /* disable scrollbars */
        display: block;
    }
    </style>
</head>

<body>

<canvas id='drawing' style='position: absolute; left: 0px; top: 0px;'></canvas>

<script>
(function(canvas_id) {
    var canvas = document.getElementById(canvas_id);
    var context = canvas.getContext('2d');

    console.log('addEventListener');
    window.addEventListener('resize', resizeHandler, false);
    console.log('done. now first resize...');
    resizeHandler();
    console.log('done');

    function resizeHandler() {
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;
        console.log('resize to ' + canvas.width + 'x' + canvas.height);
        redraw();
    }

    function redraw() {
        context.strokeStyle = 'red';
        context.lineWidth = '5';
        context.strokeRect(0, 0, canvas.width, canvas.height);
    }
})('drawing');
</script>

</body>
</head>
