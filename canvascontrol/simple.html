<!DOCTYPE html>
<html>
<head>
<title>Canvas experiment</title>
<style type="text/css">
canvas {
  margin-left: 25px;
  border: 1px solid black;
 }
</style>
</head>

<body>
<canvas id="canvas" width="500" height="500" />
<script>
var canvas = document.getElementById('canvas');
var rect = canvas.getBoundingClientRect();

var x = 0, y = 0;

function draw() {
    var ctx = canvas.getContext('2d');

    ctx.clearRect(0, 0, canvas.width, canvas.height);

    ctx.font = '12px';
    ctx.textBaseline = 'top';
    ctx.fillStyle = 'black';
    ctx.fillText(x.toString() + ', ' + y.toString(), 5, 5);

    ctx.fillStyle = 'rgb(200, 0, 0)';
    ctx.fillRect(100, 100, 150, 150);
    ctx.fillStyle = 'rgba(0, 0, 200, 0.5)';
    ctx.fillRect(x, y, 150, 150);
}

var drawing = false;
canvas.onmousemove = function(event) {
    x = event.clientX - rect.left;
    y = event.clientY - rect.top;
    if (!drawing) {
        requestAnimationFrame(function() {
            draw();
            drawing = false;
        });
    }
    drawing = true;
}

draw();  /* initial draw */

</script>
</body>
</html>
